{"ast":null,"code":"var _jsxFileName = \"/Users/lucindashale/Desktop/codeclan_work/capstoneProjectNewsApp/NewsApp/news_app_frontend/src/containers/ArticleContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ArticleList from '../components/articles/ArticleList';\nimport ArticleDetail from '../components/articles/ArticleDetail';\nimport ArticleForm from '../components/articles/ArticleForm';\nimport Request from '../helpers/request';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ArticleContainer = () => {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const [journalists, setJournalists] = useState([]);\n  const [categories, setCategories] = useState([]);\n\n  const requestAll = function () {\n    const request = new Request();\n    const articlePromise = request.get('/api/articles');\n    const journalistPromise = request.get('/api/journalists');\n    const categoryPromise = request.get('/api/categories');\n    Promise.all([articlePromise, journalistPromise, categoryPromise]).then(data => {\n      setArticles(data[0]);\n      setJournalists(data[1]);\n      setCategories(data[2]);\n    });\n  };\n\n  useEffect(() => {\n    requestAll();\n  }, []);\n\n  const findArticleById = function (id) {\n    return articles.find(article => {\n      return article.id === parseInt(id);\n    });\n  };\n\n  const handleDelete = function (id) {\n    const request = new Request();\n    const url = \"/api/articles/\" + id;\n    request.delete(url).then(() => window.location = \"api/articles\");\n  };\n\n  const handlePost = function (article) {\n    const request = new Request();\n    request.post(\"/api/articles\", article).then(() => window.location = '/articles');\n  };\n\n  const handleUpdate = function (article) {\n    const request = new Request();\n    request.patch('/api/articles/' + article.id, article).then(() => {\n      window.location = '/articles/' + article.id;\n    });\n  };\n\n  if (!articles) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/articles/new\",\n        render: () => {\n          return /*#__PURE__*/_jsxDEV(ArticleForm, {\n            journalists: journalists,\n            categories: categories,\n            onCreate: handlePost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 28\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/articles/:id/edit\",\n        render: props => {\n          const id = props.match.params.id;\n          const article = findArticleById(id);\n          return /*#__PURE__*/_jsxDEV(ArticleForm, {\n            article: article,\n            journalists: journalists,\n            categories: categories,\n            onUpdate: handleUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 28\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/articles/:id\",\n        render: props => {\n          const id = props.match.params.id;\n          const article = findArticleById(id);\n          return /*#__PURE__*/_jsxDEV(ArticleDetail, {\n            article: article,\n            onDelete: handleDelete,\n            onUpdate: handleUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 28\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        render: () => {\n          // return <h1>I am article container</h1>\n          return /*#__PURE__*/_jsxDEV(ArticleList, {\n            articles: articles\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 28\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ArticleContainer, \"JWCKu3OLeOHT+iO+zOfaBJFdenw=\");\n\n_c = ArticleContainer;\nexport default ArticleContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleContainer\");","map":{"version":3,"sources":["/Users/lucindashale/Desktop/codeclan_work/capstoneProjectNewsApp/NewsApp/news_app_frontend/src/containers/ArticleContainer.js"],"names":["React","useState","useEffect","Route","Switch","ArticleList","ArticleDetail","ArticleForm","Request","ArticleContainer","articles","setArticles","journalists","setJournalists","categories","setCategories","requestAll","request","articlePromise","get","journalistPromise","categoryPromise","Promise","all","then","data","findArticleById","id","find","article","parseInt","handleDelete","url","delete","window","location","handlePost","post","handleUpdate","patch","props","match","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ArticleList from '../components/articles/ArticleList';\nimport ArticleDetail from '../components/articles/ArticleDetail';\nimport ArticleForm from '../components/articles/ArticleForm';\n\nimport Request from '../helpers/request';\n\nconst ArticleContainer = () => {\n\n    const [articles, setArticles] = useState([]);\n    const [journalists, setJournalists] = useState([]);\n    const [categories, setCategories] = useState([]);\n\n\n\n    const requestAll = function () {\n        const request = new Request();\n        const articlePromise = request.get('/api/articles')\n        const journalistPromise = request.get('/api/journalists')\n        const categoryPromise = request.get('/api/categories')\n\n\n\n        Promise.all([articlePromise, journalistPromise, categoryPromise])\n            .then((data) => {\n                setArticles(data[0]);\n                setJournalists(data[1])\n                setCategories(data[2])\n            })\n    }\n\n    useEffect(() => {\n        requestAll()\n    }, [])\n\n    const findArticleById = function (id) {\n        return articles.find((article) => {\n            return article.id === parseInt(id);\n        })\n    }\n\n    const handleDelete = function (id) {\n        const request = new Request();\n        const url = \"/api/articles/\" + id\n        request.delete(url)\n            .then(() => window.location = \"api/articles\")\n    }\n\n    const handlePost = function (article) {\n        const request = new Request();\n        request.post(\"/api/articles\", article)\n            .then(() => window.location = '/articles')\n    }\n\n    const handleUpdate = function (article) {\n        const request = new Request();\n        request.patch('/api/articles/' + article.id, article)\n            .then(() => {\n                window.location = '/articles/' + article.id\n            })\n    }\n\n\n    if (!articles) {\n        return null\n    }\n    return (\n        <>\n\n            <Switch>\n\n                <Route exact path='/articles/new' render={() => {\n                    return <ArticleForm journalists={journalists} categories={categories} onCreate={handlePost} />\n                }} />\n\n                <Route exact path=\"/articles/:id/edit\" render={(props) => {\n                    const id = props.match.params.id;\n                    const article = findArticleById(id);\n                    return <ArticleForm article={article} journalists={journalists} categories={categories} onUpdate={handleUpdate} />\n                }} />\n\n\n                <Route exact path=\"/articles/:id\" render={(props) => {\n                    const id = props.match.params.id;\n                    const article = findArticleById(id);\n                    return <ArticleDetail article={article}\n                        onDelete={handleDelete}\n                        onUpdate={handleUpdate}\n                    />\n                }} />\n\n\n                <Route render={() => {\n                    // return <h1>I am article container</h1>\n                    return <ArticleList articles={articles} />\n                }} />\n\n            </Switch>\n\n        </>\n    )\n}\n\nexport default ArticleContainer;"]},"metadata":{},"sourceType":"module"}